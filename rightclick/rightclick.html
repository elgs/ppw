<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>azRightClick</title>
   <style>
      div {
         width: 200px;
         height: 200px;
         border: 1px solid gray;
         box-sizing: border-box;
      }
   </style>
</head>

<body>
   <div id="div0"></div>
   <div id="div1"></div>
   <div id="div2"></div>
   <span class="msg"></span>
   <script type="module">
      let i = 0;
      import { RightClick } from './rightclick.js';
      const elems = document.querySelectorAll('div');
      elems.forEach(el => {
         const rc = az.ui(RightClick, el, {
            onRightClick: function (e) {
               console.log(e);
               document.querySelector('.msg').innerHTML = e.type;
            },
            preventDefault: true,
         });
         // el.addEventListener('touchend', e => {
         //    document.querySelector('.msg').innerHTML = e.type + ' ' + rc.triggered + ' ' + ++i;
         //    setTimeout(() => {
         //       document.querySelector('.msg').innerHTML = '';
         //    }, 1000);
         // });

         el.addEventListener('click', e => {
            document.querySelector('.msg').innerHTML = e.type + ' ' + rc.triggered + ' ' + ++i;
            setTimeout(() => {
               document.querySelector('.msg').innerHTML = '';
            }, 1000);
         });
      });
   </script>
</body>
</html>